# ğŸ¯ Credit Card Payment Implementation - Visual Guide

## ğŸ“Š System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER INTERFACE                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  PaymentMethodSelector Dialog                                    â”‚
â”‚  â”œâ”€â”€ Payment Methods List                                        â”‚
â”‚  â”‚   â”œâ”€â”€ Bank Transfer                                           â”‚
â”‚  â”‚   â”œâ”€â”€ E-Wallet (OVO, DANA, etc.)                             â”‚
â”‚  â”‚   â””â”€â”€ ğŸ’³ Credit Card â† NEW                                   â”‚
â”‚  â”‚                                                                â”‚
â”‚  â””â”€â”€ CreditCardCheckout (when Credit Card selected)             â”‚
â”‚      â”œâ”€â”€ Tabs Navigation                                         â”‚
â”‚      â”‚   â”œâ”€â”€ New Card Tab                                        â”‚
â”‚      â”‚   â”‚   â””â”€â”€ CreditCardForm                                 â”‚
â”‚      â”‚   â”‚       â”œâ”€â”€ CardDisplay (preview)                      â”‚
â”‚      â”‚   â”‚       â”œâ”€â”€ Card Number Input                          â”‚
â”‚      â”‚   â”‚       â”œâ”€â”€ Cardholder Name Input                      â”‚
â”‚      â”‚   â”‚       â”œâ”€â”€ Expiry Date Inputs                         â”‚
â”‚      â”‚   â”‚       â”œâ”€â”€ CVV Input                                  â”‚
â”‚      â”‚   â”‚       â””â”€â”€ Save Card Checkbox                         â”‚
â”‚      â”‚   â”‚                                                        â”‚
â”‚      â”‚   â””â”€â”€ Saved Cards Tab                                     â”‚
â”‚      â”‚       â””â”€â”€ SavedCardSelector                              â”‚
â”‚      â”‚           â”œâ”€â”€ Cards List                                  â”‚
â”‚      â”‚           â””â”€â”€ CVV Re-entry Input                         â”‚
â”‚      â”‚                                                            â”‚
â”‚      â””â”€â”€ Security Notice                                         â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STATE MANAGEMENT                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  React Query (useQuery, useMutation)                            â”‚
â”‚  â”œâ”€â”€ Queries:                                                    â”‚
â”‚  â”‚   â”œâ”€â”€ payment-methods (cached)                               â”‚
â”‚  â”‚   â”œâ”€â”€ credit-cards (cached)                                  â”‚
â”‚  â”‚   â””â”€â”€ invoices (for status polling)                          â”‚
â”‚  â”‚                                                                â”‚
â”‚  â””â”€â”€ Mutations:                                                  â”‚
â”‚      â”œâ”€â”€ saveCreditCard                                         â”‚
â”‚      â”œâ”€â”€ listCreditCards                                        â”‚
â”‚      â”œâ”€â”€ updateCreditCard                                       â”‚
â”‚      â”œâ”€â”€ deleteCreditCard                                       â”‚
â”‚      â”œâ”€â”€ cardCheckout (handles 3DS)                             â”‚
â”‚      â””â”€â”€ membershipCardCheckout (handles 3DS)                   â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         API LAYER                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  Credit Card Endpoints:                                         â”‚
â”‚  â”œâ”€â”€ POST   /credit-cards          â†’ saveCreditCardApi          â”‚
â”‚  â”œâ”€â”€ GET    /credit-cards          â†’ listCreditCardsApi         â”‚
â”‚  â”œâ”€â”€ GET    /credit-cards/:id      â†’ getCreditCardApi           â”‚
â”‚  â”œâ”€â”€ PUT    /credit-cards/:id      â†’ updateCreditCardApi        â”‚
â”‚  â””â”€â”€ DELETE /credit-cards/:id      â†’ deleteCreditCardApi        â”‚
â”‚                                                                   â”‚
â”‚  Checkout Endpoints:                                            â”‚
â”‚  â”œâ”€â”€ POST   /checkout              â†’ cardCheckoutApi            â”‚
â”‚  â””â”€â”€ POST   /checkout/membership   â†’ membershipCardCheckoutApi  â”‚
â”‚                                                                   â”‚
â”‚  Polling for Status:                                            â”‚
â”‚  â””â”€â”€ GET    /invoices/:id          â†’ Status polling             â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       BACKEND SERVICES                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  Authentication & Authorization                                 â”‚
â”‚  â”œâ”€â”€ JWT token verification                                     â”‚
â”‚  â””â”€â”€ User ownership validation                                  â”‚
â”‚                                                                   â”‚
â”‚  Payment Processing (Xendit)                                    â”‚
â”‚  â”œâ”€â”€ Card Tokenization                                          â”‚
â”‚  â”‚   â””â”€â”€ ğŸ”’ Raw card â†’ Token (never stored)                    â”‚
â”‚  â”œâ”€â”€ 3DS Challenge Detection                                    â”‚
â”‚  â”‚   â””â”€â”€ Check response from Xendit                             â”‚
â”‚  â””â”€â”€ Payment Confirmation                                       â”‚
â”‚      â””â”€â”€ Webhook from Xendit                                    â”‚
â”‚                                                                   â”‚
â”‚  Data Persistence                                               â”‚
â”‚  â”œâ”€â”€ Save Card Tokens (masked)                                  â”‚
â”‚  â”œâ”€â”€ Store Payment History                                      â”‚
â”‚  â”œâ”€â”€ Update Invoice Status                                      â”‚
â”‚  â””â”€â”€ Update Booking Status                                      â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Payment Flow Diagram

### New Credit Card Payment

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 1: USER ENTERS CARD DETAILS                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  User fills form:                                                â”‚
â”‚  â”œâ”€â”€ Card Number: 4000000000001091                               â”‚
â”‚  â”œâ”€â”€ Cardholder: John Doe                                        â”‚
â”‚  â”œâ”€â”€ Expiry: 12/2027                                             â”‚
â”‚  â”œâ”€â”€ CVV: 123                                                    â”‚
â”‚  â””â”€â”€ Save Card: â˜‘ï¸ Yes                                            â”‚
â”‚                                                                    â”‚
â”‚  Frontend validation:                                            â”‚
â”‚  âœ“ Luhn check (card number valid)                               â”‚
â”‚  âœ“ Not expired (12/2027 > current date)                         â”‚
â”‚  âœ“ CVV is 3-4 digits                                            â”‚
â”‚  âœ“ Name is valid                                                â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 2: SUBMIT TO SERVER                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  POST /checkout                                                  â”‚
â”‚  {                                                               â”‚
â”‚    "paymentMethodId": "pm_credit_card",                          â”‚
â”‚    "courtSlots": ["slot_1", "slot_2"],                          â”‚
â”‚    "cardPayment": {                                              â”‚
â”‚      "cardNumber": "4000000000001091",                           â”‚
â”‚      "cardholderName": "John Doe",                               â”‚
â”‚      "expiryMonth": 12,                                          â”‚
â”‚      "expiryYear": 2027,                                         â”‚
â”‚      "newCardCvv": "123",                                        â”‚
â”‚      "saveCard": true                                            â”‚
â”‚    }                                                              â”‚
â”‚  }                                                                â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 3: SERVER PROCESSING                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  Backend:                                                        â”‚
â”‚  1. Validate request (auth, amounts, etc.)                      â”‚
â”‚  2. Call Xendit API with card details                           â”‚
â”‚  3. Xendit tokenizes card â†’ Returns token                       â”‚
â”‚  4. Save card token + metadata (brand, last4, etc.)             â”‚
â”‚  5. Process payment with token                                   â”‚
â”‚  6. Check payment response:                                      â”‚
â”‚     - If 3DS required â†’ Return paymentUrl                       â”‚
â”‚     - If success â†’ Update invoice status                         â”‚
â”‚     - If failed â†’ Return error                                   â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 4: 3DS CHALLENGE REQUIRED                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  Response from server:                                           â”‚
â”‚  {                                                               â”‚
â”‚    "paymentStatus": "REQUIRES_ACTION",                           â”‚
â”‚    "paymentUrl": "https://xendit.co/3ds/...",                   â”‚
â”‚    "invoiceId": "inv_xyz123"                                     â”‚
â”‚  }                                                                â”‚
â”‚                                                                    â”‚
â”‚  Frontend mutation:                                              â”‚
â”‚  âœ“ Store data in sessionStorage                                 â”‚
â”‚  âœ“ Redirect to paymentUrl                                       â”‚
â”‚                                                                    â”‚
â”‚  User sees: Loading screen                                       â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 5: USER AUTHENTICATES (3DS CHALLENGE)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  Xendit 3DS page:                                                â”‚
â”‚  1. User enters OTP (SMS)                                        â”‚
â”‚  2. OR enters card password                                      â”‚
â”‚  3. OR completes biometric                                       â”‚
â”‚                                                                    â”‚
â”‚  User sees: Xendit authentication page                           â”‚
â”‚                                                                    â”‚
â”‚  After completion:                                               â”‚
â”‚  â””â”€â”€ Redirect to /checkout/3ds-challenge                         â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 6: VERIFY PAYMENT STATUS                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  3DS Challenge Page (use3DSChallenge hook):                      â”‚
â”‚                                                                    â”‚
â”‚  1. Check sessionStorage for payment data                        â”‚
â”‚  2. Poll /invoices/:id for payment status                        â”‚
â”‚  3. Loop until:                                                   â”‚
â”‚     - Status = PAID â†’ Success                                    â”‚
â”‚     - Status = FAILED â†’ Error                                    â”‚
â”‚     - Timeout â†’ Show error                                       â”‚
â”‚                                                                    â”‚
â”‚  Meanwhile, backend receives webhook from Xendit:                â”‚
â”‚  POST /webhooks/xendit                                           â”‚
â”‚  {                                                                â”‚
â”‚    "event": "payment.capture",                                   â”‚
â”‚    "data": {                                                      â”‚
â”‚      "payment_id": "...",                                        â”‚
â”‚      "reference_id": "INV-260106-...",                           â”‚
â”‚      "status": "SUCCEEDED"                                       â”‚
â”‚    }                                                              â”‚
â”‚  }                                                                â”‚
â”‚                                                                    â”‚
â”‚  Backend updates:                                                â”‚
â”‚  âœ“ Invoice: PENDING â†’ PAID                                      â”‚
â”‚  âœ“ Booking: HOLD â†’ CONFIRMED                                    â”‚
â”‚                                                                    â”‚
â”‚  User sees: "Payment Successful!" screen                         â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 7: SUCCESS CONFIRMATION                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  Frontend detects status = PAID:                                 â”‚
â”‚  âœ“ Clear sessionStorage                                         â”‚
â”‚  âœ“ Redirect to /invoice/{invoiceNumber}                         â”‚
â”‚                                                                    â”‚
â”‚  User sees:                                                      â”‚
â”‚  âœ“ Invoice details                                               â”‚
â”‚  âœ“ Booking confirmation                                          â”‚
â”‚  âœ“ Payment receipt                                               â”‚
â”‚                                                                    â”‚
â”‚  Card saved:                                                     â”‚
â”‚  âœ“ User can use card for future bookings                        â”‚
â”‚  âœ“ Card appears in saved cards list                             â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Saved Card Payment

```
Similar to new card, but:

STEP 1: User selects saved card from list
         â†“
STEP 2: User enters CVV only
         â†“
STEP 3: POST /checkout with:
        {
          "cardPayment": {
            "savedCardId": "card_xyz123",
            "cvv": "123"
          }
        }
         â†“
STEP 4-7: Same 3DS flow as new card
```

---

## ğŸ” Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         FRONTEND (Browser)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  Input Validation (Client-side)                    â”‚
â”‚  â”œâ”€â”€ Luhn check âœ“                                  â”‚
â”‚  â”œâ”€â”€ Expiry validation âœ“                           â”‚
â”‚  â”œâ”€â”€ CVV validation âœ“                              â”‚
â”‚  â””â”€â”€ Name validation âœ“                             â”‚
â”‚                                                      â”‚
â”‚  No raw card data logging âœ“                        â”‚
â”‚  sessionStorage (temporary only) âœ“                 â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†• HTTPS Only
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         BACKEND (Application Server)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  Authentication                                     â”‚
â”‚  â”œâ”€â”€ JWT verification âœ“                            â”‚
â”‚  â””â”€â”€ User ownership check âœ“                        â”‚
â”‚                                                      â”‚
â”‚  Input Validation (Server-side)                    â”‚
â”‚  â”œâ”€â”€ All fields validated âœ“                        â”‚
â”‚  â”œâ”€â”€ Amount verification âœ“                         â”‚
â”‚  â””â”€â”€ Rate limiting âœ“                               â”‚
â”‚                                                      â”‚
â”‚  Tokenization (Xendit)                             â”‚
â”‚  â””â”€â”€ Raw card â†’ Token (never stored) âœ“             â”‚
â”‚                                                      â”‚
â”‚  No raw card storage âœ“                             â”‚
â”‚  Logging (without sensitive data) âœ“                â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†• Secure API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         PAYMENT PROCESSOR (Xendit)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  Tokenizes card details                            â”‚
â”‚  Handles 3DS authentication                        â”‚
â”‚  Securely processes payments                       â”‚
â”‚  Webhook notifications                             â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†• HTTPS Only
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         DATABASE                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  credit_cards table (secured)                      â”‚
â”‚  â”œâ”€â”€ Card tokens (not raw data) âœ“                  â”‚
â”‚  â”œâ”€â”€ Last 4 digits only âœ“                          â”‚
â”‚  â”œâ”€â”€ Brand & expiry âœ“                              â”‚
â”‚  â””â”€â”€ Encrypted in transit âœ“                        â”‚
â”‚                                                      â”‚
â”‚  invoices table                                    â”‚
â”‚  â”œâ”€â”€ Payment status âœ“                              â”‚
â”‚  â””â”€â”€ Audit trail âœ“                                 â”‚
â”‚                                                      â”‚
â”‚  PCI DSS Compliance âœ“                              â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ File Structure

```
components/
â”œâ”€â”€ forms/payment/
â”‚   â”œâ”€â”€ CardDisplay.tsx                    (Preview card)
â”‚   â”œâ”€â”€ CreditCardForm.tsx                 (Main form)
â”‚   â”œâ”€â”€ CreditCardCheckout.tsx             (Wrapper)
â”‚   â”œâ”€â”€ SavedCardSelector.tsx              (Select saved)
â”‚   â””â”€â”€ PaymentMethodSelector.tsx          (Payment method dialog)
â”œâ”€â”€ profile/
â”‚   â””â”€â”€ SavedCardsManager.tsx              (Manage cards)
â””â”€â”€ ui/
    â””â”€â”€ card-input.tsx                     (Custom input)

api/
â””â”€â”€ credit-cards.ts                        (API functions)

mutations/
â””â”€â”€ payment.ts                             (React Query mutations)

hooks/
â””â”€â”€ use3DSChallenge.ts                     (3DS handler)

app/(client)/checkout/
â””â”€â”€ 3ds-challenge/page.tsx                 (3DS challenge page)

types/
â””â”€â”€ model.d.ts                             (TypeScript definitions)
```

---

## ğŸ§ª Data Flow Example

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Input                                          â”‚
â”‚ {                                                   â”‚
â”‚   cardNumber: "4000000000001091"                   â”‚
â”‚   cardholderName: "John Doe"                       â”‚
â”‚   expiryMonth: 12                                  â”‚
â”‚   expiryYear: 2027                                 â”‚
â”‚   cvv: "123"                                       â”‚
â”‚   saveCard: true                                   â”‚
â”‚ }                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“ CreditCardForm validation
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Validated Data                                      â”‚
â”‚ âœ“ Card number valid (Luhn)                         â”‚
â”‚ âœ“ Not expired                                       â”‚
â”‚ âœ“ CVV valid                                         â”‚
â”‚ âœ“ Name valid                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“ Submit to API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ API Request                                         â”‚
â”‚ POST /checkout                                      â”‚
â”‚ {                                                   â”‚
â”‚   paymentMethodId: "pm_credit_card"                â”‚
â”‚   courtSlots: ["slot_1", "slot_2"]                 â”‚
â”‚   cardPayment: {                                   â”‚
â”‚     cardNumber: "4000000000001091"                 â”‚
â”‚     cardholderName: "John Doe"                     â”‚
â”‚     expiryMonth: 12                                â”‚
â”‚     expiryYear: 2027                               â”‚
â”‚     newCardCvv: "123"                              â”‚
â”‚     saveCard: true                                 â”‚
â”‚   }                                                 â”‚
â”‚ }                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“ Server processing
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend Processing                                  â”‚
â”‚ 1. Validate auth & amounts                         â”‚
â”‚ 2. Tokenize card with Xendit                       â”‚
â”‚ 3. Save card token: "tok_xyz123"                   â”‚
â”‚ 4. Create booking + invoice                        â”‚
â”‚ 5. Process payment                                 â”‚
â”‚ 6. Detect 3DS required                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“ Return response
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ API Response                                        â”‚
â”‚ {                                                   â”‚
â”‚   bookingId: "booking_abc123"                      â”‚
â”‚   invoiceId: "invoice_xyz789"                      â”‚
â”‚   invoiceNumber: "INV-260106-A3K9FT"              â”‚
â”‚   paymentStatus: "REQUIRES_ACTION"                 â”‚
â”‚   paymentUrl: "https://xendit.co/3ds/..."         â”‚
â”‚ }                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“ Mutation handler
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend Action                                     â”‚
â”‚ âœ“ Store in sessionStorage                          â”‚
â”‚ âœ“ Redirect to paymentUrl                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“ 3DS Challenge
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Authentication (at Xendit)                     â”‚
â”‚ âœ“ OTP verification                                  â”‚
â”‚ âœ“ Or password entry                                â”‚
â”‚ âœ“ Or biometric auth                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“ Webhook + Redirect
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Payment Confirmation                                â”‚
â”‚ {                                                   â”‚
â”‚   paymentStatus: "SUCCEEDED"                       â”‚
â”‚   invoiceStatus: "PAID"                            â”‚
â”‚   bookingStatus: "CONFIRMED"                       â”‚
â”‚ }                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“ Success redirect
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User sees Invoice Page                              â”‚
â”‚ âœ“ Booking confirmed                                 â”‚
â”‚ âœ“ Payment receipt                                   â”‚
â”‚ âœ“ Card saved for future use                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ¨ Component Features Matrix

| Component             | New Card | Saved Card | Validation | 3DS | Error Handling |
| --------------------- | -------- | ---------- | ---------- | --- | -------------- |
| CreditCardForm        | âœ…       | âŒ         | âœ…         | âš™ï¸  | âœ…             |
| SavedCardSelector     | âŒ       | âœ…         | âš™ï¸         | âš™ï¸  | âœ…             |
| CreditCardCheckout    | âœ…       | âœ…         | âœ…         | âœ…  | âœ…             |
| PaymentMethodSelector | âœ…       | âœ…         | âš™ï¸         | âš™ï¸  | âœ…             |
| SavedCardsManager     | âœ…       | âœ…         | âš™ï¸         | âŒ  | âœ…             |
| 3DSChallengePage      | âŒ       | âŒ         | âŒ         | âœ…  | âœ…             |
| use3DSChallenge       | âŒ       | âŒ         | âŒ         | âœ…  | âœ…             |

Legend: âœ… = Primary feature | âš™ï¸ = Supporting feature | âŒ = Not applicable

---

**All components are production-ready and fully integrated!**
